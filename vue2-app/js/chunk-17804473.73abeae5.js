(window["webpackJsonp_vue2-app"]=window["webpackJsonp_vue2-app"]||[]).push([["chunk-17804473"],{1:function(t,e){},"521c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("van-divider",[t._v("我是异步组件")]),e("van-cell",{attrs:{title:"按钮组件的二次封装"}}),e("h5",[t._v("$attrs属性的使用")]),e("MyButton",{attrs:{round:"",type:"primary",autoLoading:""},on:{click:t.initSdk}},[t._v("请求微信SDK")])],1)},o=[],s=n("a9ff"),i=n("ba16"),r=(n("5fda"),n("90df")),c=n.n(r),u=n("e1d7"),l=function(){function t(e){Object(s["a"])(this,t),this.config={baseURL:"https://forguo.cn",timeout:1e4};var n=Object.assign({},this.config,e);this.instance=c.a.create(n),this.setInterceptors(this.instance)}return Object(i["a"])(t,[{key:"request",value:function(t){return this.instance.request(t)}},{key:"setInterceptors",value:function(t){t.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers.common["Authorization"]="Bearer "+e),t}),(function(t){return Promise.reject(t)})),t.interceptors.response.use((function(t){return 200===t.status&&200===t.data.code?Promise.resolve(t.data):(u["Message"].warning(t.data.message||t.statusText),401===t.data.code&&(console.log("token失效，重新授权！"),localStorage.clear(),window.login()),Promise.reject(t.data))}),(function(t){return u["Message"].warning(t.data.message||t.statusText),Promise.reject(t)}))}}]),t}(),d=new l,f=d,p=function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v("$attrs："+t._s(t.$attrs))]),e("p",[t._v("$props："+t._s(t.$props))]),e("van-button",t._b({attrs:{loading:t.loading},on:{click:t.handleClick}},"van-button",t.$attrs,!1),[t._t("default")],2)],1)},h=[],g={props:{autoLoading:{type:Boolean,default:!1}},data:function(){return{loading:!1}},methods:{handleClick:function(){var t=this;this.autoLoading&&(this.loading=!0),this.$emit("click",(function(){t.loading=!1}))}}},v=g,m=n("0abc"),b=Object(m["a"])(v,p,h,!1,null,"287e9a5f",null),k=b.exports,_=n("791a"),w={name:"LazyLoad",components:{MyButton:k},methods:{initSdk:function(t){var e=this;f.request({method:"post",url:"https://api.forguo.cn/common/wechat/sdk",data:_["stringify"]({url:window.location.href})}).then((function(n){console.log(n),e.$toast({message:"成功",type:"success"}),t()}),(function(e){console.log(e),t()}))}}},y=w,j=Object(m["a"])(y,a,o,!1,null,"73c5c3bb",null);e["default"]=j.exports}}]);
//# sourceMappingURL=chunk-17804473.73abeae5.js.map