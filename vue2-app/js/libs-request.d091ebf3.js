(window["webpackJsonp_vue2-app"]=window["webpackJsonp_vue2-app"]||[]).push([["libs-request"],{"6b6c":function(e,t,n){"use strict";n.r(t);n("9349"),n("f87a");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n("7b31");var o=n("d50f");function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Object(o["a"])(r.key),r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n("5fda");var c=n("90df"),i=n.n(c),u=n("2dc7"),f=function(){function e(){r(this,e),this.config={baseURL:"https://forguo.cn",timeout:1e4}}return s(e,[{key:"request",value:function(e){var t=Object.assign({},this.config,e),n=i.a.create();return this.setInterceptors(n),n(t)}},{key:"setInterceptors",value:function(e){e.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.common["Authorization"]="Bearer "+t),e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return 200===e.status&&200===e.data.code?Promise.resolve(e.data):(Object(u["a"])(e.data.message||e.statusText),401===e.data.code&&(console.log("token失效，重新授权！"),localStorage.clear(),window.login()),Promise.reject(e.data))}),(function(e){return Object(u["a"])(e.data.message||e.statusText),Promise.reject(e)}))}}]),e}();t["default"]=new f}}]);