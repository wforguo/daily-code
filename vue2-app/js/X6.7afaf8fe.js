(window["webpackJsonp_vue2-app"]=window["webpackJsonp_vue2-app"]||[]).push([["X6"],{1208:function(t,e,o){},1544:function(t,e,o){"use strict";o("1208")},"1d93":function(t,e,o){t.exports=o.p+"img/icon-flow-circle.5da32057.svg"},2347:function(t,e,o){t.exports=o.p+"img/icon-flow-cloud.de497138.svg"},2939:function(t,e,o){t.exports=o.p+"img/icon-flow-sql.be6545dc.svg"},"2ada":function(t,e,o){},"4cc4":function(t,e,o){"use strict";o("bad6")},6794:function(t,e,o){t.exports=o.p+"img/icon-flow-rect.0864f6b9.svg"},"96fb":function(t,e,o){t.exports=o.p+"img/icon-flow-client.a1a11e06.svg"},bad6:function(t,e,o){},e06d:function(t,e,o){t.exports=o.p+"img/icon-flow-http.9e400476.svg"},e608:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ant-flow"},[e("flow-library",{on:{onAddNode:t.onAddNode}}),e("div",{staticStyle:{flex:"1",width:"100%",height:"100%"},attrs:{id:"container"}}),e("flow-content-menu",{attrs:{visible:t.menuVisible,position:t.menuPosition},on:{"update:visible":function(e){t.menuVisible=e},onMenuClick:t.onMenuClick}}),e("el-button",{staticClass:"ant-flow-save",attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("保存")])],1)},a=[],r=o("dafb"),n=o("8fa8"),s=(o("a3ac"),o("6c3f"),o("5445"),o("3f47"),o("4163")),d=(o("1b5b"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"flow-library"},[e("div",{staticClass:"flow-library-title"},[t._v("组件库")]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"flow-library-list"},[e("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[t._l(t.list,(function(o){return e("el-collapse-item",{key:o.code,attrs:{name:o.code}},[e("template",{slot:"title"},[t._v(t._s(o.title))]),e("div",{staticClass:"flow-library-group"},t._l(o.groups,(function(o){return e("div",{key:o.id,staticClass:"flow-library-item"},[e("div",{staticClass:"flow-library-item__img",class:"flow-library-item__img--"+o.shape,style:{backgroundImage:"url(".concat(o.image,")")},attrs:{"data-name":o.name,"data-id":o.id,"data-image":o.image,"data-shape":o.shape},on:{mousedown:function(e){return e.stopPropagation(),t.handleonAddNode.apply(null,arguments)}}},[e("div",{staticClass:"flow-library-item__name"},[t._v(t._s(o.name))])])])})),0)],2)})),e("el-collapse-item",{attrs:{title:"功能点",name:"intro"}},[e("ul",[e("el-tag",{staticStyle:{margin:"6px"}},[t._v("自定义节点")]),e("el-tag",{staticStyle:{margin:"6px"}},[t._v("节点缩放")]),e("el-tag",{staticStyle:{margin:"6px"}},[t._v("动态链接桩")]),e("el-tag",{staticStyle:{margin:"6px"}},[t._v("右键菜单")]),t._v(" ... ")],1)])],2)],1)])}),l=[],c=o("f82f"),f=(o("1ef9"),o("01e5"),o("5705"),o("252c"),function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{container:document.getElementById("container"),interacting:!t||{nodeMovable:!1,edgeMovable:!1,magnetConnectable:!1,vertexDeletable:!1},snapline:!0,history:!t,selecting:{enabled:!0,multiple:!t,rubberband:!1},grid:{visible:!0,size:20,type:"mesh",args:{color:"#e9e9e9",thickness:2}},scroller:{enabled:!0,pageVisible:!1,pageBreak:!1,pannable:!0},mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:["ctrl","meta"],maxScale:3,minScale:.3},connecting:{router:{name:"manhattan",args:{padding:1}},connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20},createEdge:function(){return new s["d"].Edge({markup:[{tagName:"path",selector:"stroke"}],connector:{name:"rounded"},attrs:{stroke:{fill:"none",connection:!0,strokeWidth:4,strokeLinecap:"round",stroke:"#666"}},zIndex:0})},validateConnection:function(t){var e=t.targetMagnet;return!!e}},highlighting:{magnetAdsorbed:{name:"stroke",args:{attrs:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#0F67FF"}}}},resizing:!t&&{enabled:!0,minWidth:64,maxWidth:128,minHeight:52.5,maxHeight:210,orthogonal:!0,restricted:!1,preserveAspectRatio:!0},rotating:!1,keyboard:!t,clipboard:!t,autoResize:!0,onToolItemCreated:function(t){var e=t.tool,o=e.options;o&&o.index%2===1&&e.setAttrs({fill:"red"})}}}),p={width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1},g={groups:{top:{position:"top",attrs:{circle:Object(n["a"])({},p)}},right:{position:"right",attrs:{circle:Object(n["a"])({},p)}},bottom:{position:"bottom",attrs:{circle:Object(n["a"])({},p)}},left:{position:"left",attrs:{circle:Object(n["a"])({},p)}},absolute:{position:"absolute",attrs:{circle:{r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff"}}}},items:[{group:"top"},{group:"right"},{group:"bottom"},{group:"left"}]},b="setting-shape",u=function(t,e,o){var i=100*(t/e).toFixed(2);return"".concat(i).concat(o?"px":"%")},h={inherit:"rect",width:64,height:64,markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"settingImage"},{tagName:"text",selector:"settingName"}],attrs:{body:{class:b,stroke:"#5F95FF",fill:"#5F95FF",strokeWidth:2,fillOpacity:.75},settingImage:{refWidth:u(32,64),refHeight:u(32,64),refX:u(16,64),refY:u(8,64),textAnchor:"middle",textVerticalAnchor:"bottom",anchor:"middle",verticalAnchor:"bottom"},settingName:{refWidth:"100%",refX:u(32,64),refY:u(60,64),textAnchor:"middle",textVerticalAnchor:"bottom",fontSize:12,fill:"#262626"}},ports:Object(n["a"])({},g)},m=["#2AC94F","#0AAEFF","#DB5A6B","#057748","#2E4E7E","#845A33"],k={name:"FlowLibrary",data:function(){return{activeNames:[],list:[],loading:!0}},created:function(){var t=this,e=[{title:"内置组件",code:"base",groups:[{name:"矩形",image:o("6794"),shape:"rect"},{name:"圆",image:o("1d93"),shape:"circle"}]},{title:"自定义组件",code:"custom",groups:[{id:"Client",name:"Client",image:o("96fb"),shape:b},{id:"Http",name:"Http",image:o("e06d"),shape:b},{id:"Cloud",name:"Cloud",image:o("2347"),shape:b},{id:"Sql",name:"Sql",image:o("2939"),shape:b}]}];this.list=e,this.activeNames=[].concat(Object(c["a"])(e.map((function(t){return t.code}))),["intro"]),setTimeout((function(){t.loading=!1}),1e3)},methods:{handleonAddNode:function(t){this.$emit("onAddNode",t)}}},x=k,v=(o("f0a1"),o("0abc")),w=Object(v["a"])(x,d,l,!1,null,"056ece78",null),F=w.exports,C=function(){var t=this,e=t._self._c;return e("el-card",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"flowMenu",staticClass:"flow-contextmenu",style:t.menuStyle,attrs:{"body-style":"padding: 12px 0 12px 12px"}},[e("el-cascader-panel",{attrs:{props:{expandTrigger:"hover"},options:t.options,border:!1},on:{change:t.handleMenuClick},scopedSlots:t._u([{key:"default",fn:function(o){o.node;var i=o.data;return[e("span",{staticClass:"flow-contextmenu__node"},[t._v(t._s(i.label))])]}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1)},y=[],z={props:{visible:{type:Boolean,default:!1},position:{type:Object,default:function(){return{}}}},computed:{menuStyle:function(){return Object(n["a"])({},this.position)}},watch:{visible:{handler:function(){this.select=[]}}},data:function(){return{select:[],options:[{value:"name",label:"随机name"},{value:"color",label:"随机color"},{value:"remove",label:"删除"}]}},methods:{handleMenuClick:function(t){this.$emit("onMenuClick",t),this.$emit("update:visible",!1)}}},I=z,W=(o("4cc4"),Object(v["a"])(I,C,y,!1,null,"71118d50",null)),N=W.exports,S={cells:[{shape:"edge",attrs:{stroke:{fill:"none",connection:!0,strokeWidth:4,strokeLinecap:"round",stroke:"#666"}},id:"4ac9f1b6-0c0a-44ff-9a11-26fd7f1997f8",markup:[{tagName:"path",selector:"stroke"}],connector:{name:"rounded"},zIndex:0,source:{cell:"ff271f7e-06fa-4af1-a080-94b665b607fc",port:"bbd856f0-1cd8-44b8-82b3-947ae8340c75"},target:{cell:"43323a15-147c-481b-b3fd-87ceb05b832f",port:"22fb5965-2fdf-4b5d-9517-c8881d8ff91d"},tools:{items:[],name:null}},{shape:"edge",attrs:{stroke:{fill:"none",connection:!0,strokeWidth:4,strokeLinecap:"round",stroke:"#666"}},id:"fcf08a94-2a93-497a-87d8-cc9a5658c32a",markup:[{tagName:"path",selector:"stroke"}],connector:{name:"rounded"},zIndex:0,source:{cell:"14d9972f-1635-4ccd-b563-8b2944150ffb",port:"ea9df147-d63c-451f-9536-419bc3812cbd"},target:{cell:"43323a15-147c-481b-b3fd-87ceb05b832f",port:"9608a842-cf96-4c24-98ec-817c90345453"},tools:{items:[],name:null}},{shape:"edge",attrs:{stroke:{fill:"none",connection:!0,strokeWidth:4,strokeLinecap:"round",stroke:"#666"}},id:"57e15ccf-0f81-4951-a9e0-1f5c26e0430c",markup:[{tagName:"path",selector:"stroke"}],connector:{name:"rounded"},zIndex:0,source:{cell:"22e19155-d668-4c99-943a-5b464bc47847",port:"a4665d7c-0f7e-47cf-8880-cd77eff37ef6"},target:{cell:"43323a15-147c-481b-b3fd-87ceb05b832f",port:"30c5e83f-f5d0-42f7-ac55-91af5d4a952c"}},{shape:"edge",attrs:{stroke:{fill:"none",connection:!0,strokeWidth:4,strokeLinecap:"round",stroke:"#666"}},id:"0f93a7d2-5b70-42e1-95ce-66ddde154bb9",markup:[{tagName:"path",selector:"stroke"}],connector:{name:"rounded"},zIndex:0,source:{cell:"bb4bf579-6049-4122-af21-13df49448b24",port:"69f387e6-0445-46f0-b8c3-ead0e80146b3"},target:{cell:"43323a15-147c-481b-b3fd-87ceb05b832f",port:"9608a842-cf96-4c24-98ec-817c90345453"}},{shape:"edge",attrs:{stroke:{fill:"none",connection:!0,strokeWidth:4,strokeLinecap:"round",stroke:"#666"}},id:"d92d2a37-b2b8-4bfa-8933-ccf7172ce2e1",markup:[{tagName:"path",selector:"stroke"}],connector:{name:"rounded"},zIndex:0,source:{cell:"db0d10ed-f02c-458f-a22d-a22e0ef1bde5",port:"fe3982ca-3e17-44d2-bd91-16f12e940843"},target:{cell:"b70f7163-a56a-45c1-871f-af805cd96f7c",port:"2ba63a04-82ee-448f-9d76-d91a9a364a1f"},tools:{items:[],name:null}},{shape:"edge",attrs:{stroke:{fill:"none",connection:!0,strokeWidth:4,strokeLinecap:"round",stroke:"#666"}},id:"a302b000-0d50-4e5c-8e1e-7e5e6ec62335",markup:[{tagName:"path",selector:"stroke"}],connector:{name:"rounded"},zIndex:0,source:{cell:"e4d9722b-1b16-4c1e-aadb-1bd59a4384f9",port:"40cc081d-0293-4265-adb2-ce2d6bfd9b59"},target:{cell:"43323a15-147c-481b-b3fd-87ceb05b832f",port:"9df95755-29c6-4998-980c-0e97b1a965a7"}},{shape:"edge",attrs:{stroke:{fill:"none",connection:!0,strokeWidth:4,strokeLinecap:"round",stroke:"#666"}},id:"ee8f737b-4ba7-40ad-84b5-2c563ead5ac9",markup:[{tagName:"path",selector:"stroke"}],connector:{name:"rounded"},zIndex:0,source:{cell:"e4d9722b-1b16-4c1e-aadb-1bd59a4384f9",port:"1f063ba0-796f-4a9e-b56c-7d25b13e8a3f"},target:{cell:"b70f7163-a56a-45c1-871f-af805cd96f7c",port:"074a990f-fc33-486e-a5e6-6e3209aa4669"},tools:{items:[],name:null}},{shape:"edge",attrs:{stroke:{fill:"none",connection:!0,strokeWidth:4,strokeLinecap:"round",stroke:"#666"}},id:"ef18ff1f-abee-418f-b1a2-0400bdad64cb",markup:[{tagName:"path",selector:"stroke"}],connector:{name:"rounded"},zIndex:0,source:{cell:"e4d9722b-1b16-4c1e-aadb-1bd59a4384f9",port:"7adaf768-d67c-4b34-a6d5-ea8e509dfab5"},target:{cell:"db0d10ed-f02c-458f-a22d-a22e0ef1bde5",port:"c8210845-4e4a-47d5-8f8f-483027e71c44"},tools:{items:[],name:null}},{position:{x:-280,y:-296},size:{width:64,height:64},attrs:{text:{text:"矩形"}},visible:!0,shape:"rect",id:"db0d10ed-f02c-458f-a22d-a22e0ef1bde5",ports:{groups:{top:{position:"top",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},right:{position:"right",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},bottom:{position:"bottom",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},left:{position:"left",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},absolute:{position:"absolute",attrs:{circle:{r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff"}}}},items:[{group:"top",id:"c8210845-4e4a-47d5-8f8f-483027e71c44"},{group:"right",id:"fe3982ca-3e17-44d2-bd91-16f12e940843"},{group:"bottom",id:"f86a7d8d-a508-4c0b-bb8a-984037704d41"},{group:"left",id:"ddd383d3-a4ea-4c12-98f5-8de6cc2afd9f"}]},zIndex:1},{position:{x:100,y:-296},size:{width:64,height:64},attrs:{text:{text:"矩形"}},visible:!0,shape:"rect",id:"b70f7163-a56a-45c1-871f-af805cd96f7c",ports:{groups:{top:{position:"top",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},right:{position:"right",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},bottom:{position:"bottom",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},left:{position:"left",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},absolute:{position:"absolute",attrs:{circle:{r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff"}}}},items:[{group:"top",id:"074a990f-fc33-486e-a5e6-6e3209aa4669"},{group:"right",id:"0e69a4ac-4adc-4a14-b32a-904da21d0231"},{group:"bottom",id:"8c9d30e9-253e-4add-a2ed-3a609aa32001"},{group:"left",id:"2ba63a04-82ee-448f-9d76-d91a9a364a1f"}]},zIndex:3},{position:{x:-240,y:-180},size:{width:64,height:64},attrs:{text:{text:"Http"},settingImage:{"xlink:href":"img/icon-flow-http.9e400476.svg"},settingName:{text:"Http"}},visible:!0,shape:"setting-shape",ports:{groups:{top:{position:"top",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},right:{position:"right",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},bottom:{position:"bottom",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},left:{position:"left",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},absolute:{position:"absolute",attrs:{circle:{r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff"}}}},items:[{group:"top",id:"eea483cc-bd28-4df3-9d38-ee59c3fc8d25"},{group:"right",id:"bbd856f0-1cd8-44b8-82b3-947ae8340c75"},{group:"bottom",id:"654d4e45-a7d7-440e-8a30-841599449639"},{group:"left",id:"d488d550-9088-42ec-bd46-00b4272cdd53"}]},id:"ff271f7e-06fa-4af1-a080-94b665b607fc",data:{shape:"setting-shape",id:"Http"},zIndex:4},{position:{x:-240,y:-37},size:{width:64,height:64},attrs:{text:{text:"Client"},settingImage:{"xlink:href":"img/icon-flow-client.a1a11e06.svg"},settingName:{text:"Client"}},visible:!0,shape:"setting-shape",ports:{groups:{top:{position:"top",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},right:{position:"right",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},bottom:{position:"bottom",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},left:{position:"left",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},absolute:{position:"absolute",attrs:{circle:{r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff"}}}},items:[{group:"top",id:"e82507d4-1877-45af-9a69-8259d122153a"},{group:"right",id:"ea9df147-d63c-451f-9536-419bc3812cbd"},{group:"bottom",id:"1a88dfd9-a164-47f8-a727-bdd1acc6a513"},{group:"left",id:"66e0cad6-b0ea-4d04-b16d-c15e873db425"}]},id:"14d9972f-1635-4ccd-b563-8b2944150ffb",data:{shape:"setting-shape",id:"Client"},zIndex:5},{position:{x:-89,y:-180},size:{width:64,height:64},attrs:{text:{text:"Cloud"},settingImage:{"xlink:href":"img/icon-flow-cloud.de497138.svg"},settingName:{text:"Cloud"}},visible:!0,shape:"setting-shape",ports:{groups:{top:{position:"top",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},right:{position:"right",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},bottom:{position:"bottom",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},left:{position:"left",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},absolute:{position:"absolute",attrs:{circle:{r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff"}}}},items:[{group:"top",id:"9df95755-29c6-4998-980c-0e97b1a965a7"},{group:"right",id:"30c5e83f-f5d0-42f7-ac55-91af5d4a952c"},{group:"bottom",id:"9608a842-cf96-4c24-98ec-817c90345453"},{group:"left",id:"22fb5965-2fdf-4b5d-9517-c8881d8ff91d"}]},id:"43323a15-147c-481b-b3fd-87ceb05b832f",data:{shape:"setting-shape",id:"Cloud"},zIndex:6},{position:{x:59,y:-180},size:{width:64,height:64},attrs:{text:{text:"Sql"},settingImage:{"xlink:href":"img/icon-flow-sql.be6545dc.svg"},settingName:{text:"Sql"}},visible:!0,shape:"setting-shape",ports:{groups:{top:{position:"top",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},right:{position:"right",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},bottom:{position:"bottom",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},left:{position:"left",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},absolute:{position:"absolute",attrs:{circle:{r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff"}}}},items:[{group:"top",id:"90883eb7-0785-4aeb-8249-41455d579d8b"},{group:"right",id:"c1e1cf83-73c7-4ab9-a795-d82e8b252265"},{group:"bottom",id:"c92a0698-cf03-47d9-b394-6797600de749"},{group:"left",id:"a4665d7c-0f7e-47cf-8880-cd77eff37ef6"}]},id:"22e19155-d668-4c99-943a-5b464bc47847",data:{shape:"setting-shape",id:"Sql"},zIndex:7},{position:{x:59,y:-37},size:{width:64,height:64},attrs:{text:{text:"Http"},settingImage:{"xlink:href":"img/icon-flow-http.9e400476.svg"},settingName:{text:"Http"}},visible:!0,shape:"setting-shape",ports:{groups:{top:{position:"top",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},right:{position:"right",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},bottom:{position:"bottom",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},left:{position:"left",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},absolute:{position:"absolute",attrs:{circle:{r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff"}}}},items:[{group:"top",id:"88d575ae-b40b-4fce-a575-b855878ea955"},{group:"right",id:"878c522d-40c8-4c9d-bd63-75b0b6a9003a"},{group:"bottom",id:"ac25d33a-dbd7-4614-b196-dad532d41734"},{group:"left",id:"69f387e6-0445-46f0-b8c3-ead0e80146b3"}]},id:"bb4bf579-6049-4122-af21-13df49448b24",data:{shape:"setting-shape",id:"Http"},zIndex:8},{position:{x:-89,y:-402},size:{width:64,height:64},attrs:{text:{text:"Cloud"},settingImage:{"xlink:href":"img/icon-flow-cloud.de497138.svg"},settingName:{text:"Cloud"}},visible:!0,shape:"setting-shape",ports:{groups:{top:{position:"top",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},right:{position:"right",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},bottom:{position:"bottom",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},left:{position:"left",attrs:{circle:{width:12,r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff",zIndex:1}}},absolute:{position:"absolute",attrs:{circle:{r:6,magnet:!0,stroke:"#008CFF",strokeWidth:2,fill:"#fff"}}}},items:[{group:"top",id:"276ca768-b3ff-4869-bf46-e94d3db5dad4"},{group:"right",id:"1f063ba0-796f-4a9e-b56c-7d25b13e8a3f"},{group:"bottom",id:"40cc081d-0293-4265-adb2-ce2d6bfd9b59"},{group:"left",id:"7adaf768-d67c-4b34-a6d5-ea8e509dfab5"}]},id:"e4d9722b-1b16-4c1e-aadb-1bd59a4384f9",data:{shape:"setting-shape",id:"Cloud"},zIndex:9}]},_=S,A=null,M=null,O=null,j={name:"X6",components:{FlowContentMenu:N,FlowLibrary:F},title:"Antv/X6流程图",data:function(){return{rawSource:_,menuVisible:!1,menuPosition:{}}},mounted:function(){this.init()},beforeDestroy:function(){A&&A.dispose(),A=null,M=null,O=null},methods:{init:function(){A=new s["c"](f(!1)),this.registerNode(),A.fromJSON(this.rawSource),A.centerContent(),this.initEvent();var t={target:A,scaled:!1,animation:!0};M=new s["a"].Dnd(t)},registerNode:function(){s["c"].registerNode(b,Object(n["a"])({},h),!0)},initEvent:function(){var t=this;A.on("cell:click",(function(e){t.menuVisible=!1;var o=e.node,i=o.getData();console.log(i)})),A.on("node:dblclick",(function(t){var e=t.e,o=t.node,i=t.node.shape,a=i===b?document.querySelector(".x6-node-selected > rect"):document.querySelector(".x6-node-selected > ".concat(i));if(a){var r=a.getBoundingClientRect&&a.getBoundingClientRect();if(r){var n=e.pageX,s=e.pageY,d=A.zoom(),l=(n-r.x)/d,c=(s-r.y)/d;o.addPort({group:"absolute",args:{x:Math.round(l),y:Math.round(c)},silent:!1})}}})),A.on("cell:mouseenter",(function(t){var e=t.cell;e.isEdge()&&e.addTools(["vertices","segments",{name:"button-remove",args:{x:"30%",y:"50%"}}])})),A.on("cell:mouseleave",(function(t){var e=t.cell;e.isEdge()&&(e.removeTool("vertices"),e.removeTool("segments"),e.removeTool("button-remove"))})),A.on("node:mouseenter",(function(){t.showPorts(!0)})),A.on("node:mouseleave",(function(){t.showPorts(!1)})),A.on("cell:contextmenu",(function(e){var o=e.e,i=e.cell;O=i,t.menuVisible=!1,t.menuPosition={left:o.pageX+"px",top:o.pageY+"px"},t.menuVisible=!0})),A.on("blank:click",(function(){A.cleanSelection&&A.cleanSelection(),t.menuVisible=!1})),A.bindKey(["meta+c","ctrl+c"],(function(){var t=A.getSelectedCells();return t.length&&A.copy(t),!1})),A.bindKey(["meta+x","ctrl+x"],(function(){var t=A.getSelectedCells();return t.length&&A.cut(t),!1})),A.bindKey(["meta+v","ctrl+v"],(function(){if(!A.isClipboardEmpty()){var t=A.paste({offset:32});A.cleanSelection(),A.select(t)}return!1})),A.bindKey(["meta+z","ctrl+z"],(function(){return A.history.canUndo()&&A.history.undo(),!1})),A.bindKey(["meta+shift+z","ctrl+shift+z"],(function(){return A.history.canRedo()&&A.history.redo(),!1})),A.bindKey(["meta+shift+a","ctrl+shift+a"],(function(){var t=A.getNodes();t&&A.select(t)})),A.bindKey(["backspace","delete"],(function(){var t=A.getSelectedCells();t.length&&A.removeCells(t)})),A.bindKey(["ctrl+1","meta+1"],(function(){var t=A.zoom();t<1.5&&A.zoom(.1)})),A.bindKey(["ctrl+2","meta+2"],(function(){var t=A.zoom();t>.5&&A.zoom(-.1)}))},showPorts:function(t){for(var e=document.getElementById("container"),o=e.querySelectorAll(".x6-port-body"),i=0,a=o.length;i<a;i+=1)o[i].style.visibility=t?"visible":"hidden"},onAddNode:function(t){var e=t&&t.target.closest(".flow-library-item__img");if(e){var o=e.getAttribute("data-id"),i=e.getAttribute("data-image"),a=e.getAttribute("data-name"),r=e.getAttribute("data-shape");console.log(r);var s=r===b?{shape:r,label:a,attrs:{settingImage:{"xlink:href":i},settingName:{text:a}},data:{shape:r,id:o}}:{shape:r,width:64,height:64,label:a,ports:Object(n["a"])({},g),data:{shape:r,id:o}},d=A.createNode(Object(n["a"])({},s));M.start(d,t)}},onMenuClick:function(t){var e=Object(r["a"])(t,1),o=e[0];switch(o){case"name":var i=m[Math.floor(100*Math.random()%6)];O.attr("settingName/text",i),O.attr("settingName/fill",i),O.attr("text/text",i),O.attr("text/fill",i);break;case"color":O.attr("body/fill",m[Math.floor(100*Math.random()%6)]),O.attr("body/stroke",m[Math.floor(100*Math.random()%6)]);break;case"remove":A.removeNode(O);break}},handleSave:function(){var t=A.toJSON();this.rawSource=t,console.log(JSON.stringify(t)),A.toPNG((function(t){s["b"].downloadDataUri(t,"".concat((new Date).toLocaleString(),".chart.png"))}),{width:1920,height:1080,padding:{top:25,right:25,bottom:25,left:25}}),this.$message.success("保存成功")}}},E=j,L=(o("1544"),Object(v["a"])(E,i,a,!1,null,"9a8cf542",null));e["default"]=L.exports},f0a1:function(t,e,o){"use strict";o("2ada")}}]);
//# sourceMappingURL=X6.7afaf8fe.js.map