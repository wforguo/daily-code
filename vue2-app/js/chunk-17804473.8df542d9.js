(window["vue2-app"]=window["vue2-app"]||[]).push([["chunk-17804473"],{1:function(t,e){},"521c":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("van-divider",[t._v("我是异步组件")]),e("van-cell",{attrs:{title:"按钮组件的二次封装"}}),e("h5",[t._v(" $attrs属性的使用 ")]),e("MyButton",{attrs:{round:"",type:"primary",autoLoading:""},on:{click:t.initSdk}},[t._v("请求微信SDK")])],1)},a=[],s=n("a9ff"),r=n("ba16"),i=(n("5fda"),n("90df")),c=n.n(i),u=n("e1d7"),l=function(){function t(){Object(s["a"])(this,t),this.config={baseURL:"https://forguo.cn",timeout:1e4}}return Object(r["a"])(t,[{key:"request",value:function(t){var e=Object.assign({},this.config,t),n=c.a.create();return this.setInterceptors(n),n(e)}},{key:"setInterceptors",value:function(t){t.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers.common["Authorization"]="Bearer "+e),t}),(function(t){return Promise.reject(t)})),t.interceptors.response.use((function(t){return 200===t.status&&200===t.data.code?Promise.resolve(t.data):(u["Message"].warning(t.data.message||t.statusText),401===t.data.code&&(console.log("token失效，重新授权！"),localStorage.clear(),window.login()),Promise.reject(t.data))}),(function(t){return u["Message"].warning(t.data.message||t.statusText),Promise.reject(t)}))}}]),t}(),d=new l,f=function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v(" $attrs："+t._s(t.$attrs)+" ")]),e("p",[t._v(" $props："+t._s(t.$props)+" ")]),e("van-button",t._b({attrs:{loading:t.loading},on:{click:t.handleClick}},"van-button",t.$attrs,!1),[t._t("default")],2)],1)},p=[],g={props:{autoLoading:{type:Boolean,default:!1}},data:function(){return{loading:!1}},methods:{handleClick:function(){var t=this;this.autoLoading&&(this.loading=!0),this.$emit("click",(function(){t.loading=!1}))}}},h=g,v=n("0abc"),m=Object(v["a"])(h,f,p,!1,null,"627de807",null),w=m.exports,b=n("791a"),k={name:"LazyLoad",components:{MyButton:w},methods:{initSdk:function(t){var e=this;d.request({method:"post",url:"https://www.forguo.cn/api/common/wechat/sdk",data:b["stringify"]({url:window.location.href})}).then((function(n){console.log(n),e.$toast({message:"成功",type:"success"}),t()}),(function(e){console.log(e),t()}))}}},_=k,y=Object(v["a"])(_,o,a,!1,null,"006bb90c",null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-17804473.8df542d9.js.map