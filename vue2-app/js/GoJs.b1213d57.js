(window["vue2-app"]=window["vue2-app"]||[]).push([["GoJs"],{"1e52":function(e,o,t){"use strict";t.r(o);var i=function(){var e=this,o=e._self._c;return o("div",{staticClass:"process"},[o("div",{staticStyle:{width:"200px",height:"100%"},attrs:{id:"myPaletteDiv"}}),o("div",{staticStyle:{flex:"1",width:"100%",height:"100%","background-color":"#DAE4E4"},attrs:{id:"myDiagramDiv"}}),o("div",{staticClass:"tool"},[o("el-button",{attrs:{type:"primary"},on:{click:function(o){e.show=!0,e.res=null}}},[e._v("配置")]),o("el-button",{attrs:{type:"success"},on:{click:e.save}},[e._v("保存")])],1),o("van-overlay",{attrs:{show:e.show,"z-index":"999"}},[o("div",{staticStyle:{margin:"5% 50px",height:"85%"},on:{click:function(e){e.stopPropagation()}}},[o("res-img",{directives:[{name:"show",rawName:"v-show",value:e.res,expression:"res"}],attrs:{res:e.res}}),o("textarea",{directives:[{name:"show",rawName:"v-show",value:!e.res,expression:"!res"}],staticStyle:{width:"100%",height:"95%"},attrs:{id:"mySavedModel"}},[e._v(' { "class": "GraphLinksModel", "nodeDataArray": [ {"key":5,"pos":"160 15","icon":"pyrolysis","color":"orange","text":"Pyrolysis (Cracking)","description":"Liquefied petroleum gases (LPGs) are transformed into Ethylene, propylene, benzene, and other by-products.","caption":"Pyrolysis plant","imgsrc":"https://upload.wikimedia.org/wikipedia/commons/6/6c/Guelph.jpg"}, {"key":6,"pos":"-220 21","icon":"polymerization","color":"red","text":"Basic Polymers","description":"Ethylene and propylene (monomers) are processed into end products using various methods (polymerization).","caption":"Plastics engineering-Polymer products","imgsrc":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Plastics_engineering-Polymer_products.jpg/256px-Plastics_engineering-Polymer_products.jpg"}, {"key":7,"pos":"-220 -94","icon":"polymerization","color":"green","text":"Plastics","description":"Polymerization produces PET, glycols, alcohols, expandable polystyrene, acrylates, BOPP-films and geosynthetics.","caption":"Lego Color Bricks","imgsrc":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/Lego_Color_Bricks.jpg/256px-Lego_Color_Bricks.jpg"}, {"key":9,"pos":"-220 144","color":"orange","text":"Intermediates","description":"Produced Ethylene, Propylene, Butenes, Benzene, and other by-products.","caption":"Propylene Containers","imgsrc":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/XVJ-12_Propylene_%288662385917%29.jpg/256px-XVJ-12_Propylene_%288662385917%29.jpg","icon":"oil"}, {"icon":"fractionation","text":"Gas Fractionation","key":-4,"pos":"310 21"}, {"icon":"oil","text":"OilCompanies","key":-2,"pos":"490 21","caption":"","imgsrc":""} ], "linkDataArray": [ {"from":9,"to":5,"points":[-200,151,-190,151,-30,151,-30,34.5,130,34.5,140,34.5]}, {"from":7,"to":5,"points":[-200,-87,-190,-87,-30,-87,-30,21.5,130,21.5,140,21.5]}, {"from":6,"to":5,"points":[-200,28,-190,28,-30,28,-30,28,130,28,140,28]}, {"from":5,"to":-4,"points":[180,28,190,28,235,28,235,28,280,28,290,28]}, {"from":-4,"to":-2,"points":[330,28,340,28,400,28,400,28,460,28,470,28]} ]} ')]),o("el-button",{staticStyle:{"margin-top":"32px"},attrs:{type:"danger",size:"small"},on:{click:function(o){e.show=!1}}},[e._v("关闭")])],1)])],1)},n=[],a=(t("faea"),function(){var e=this,o=e._self._c;return o("div",{ref:"resImg",staticStyle:{background:"rgba(255,255,255,1)","border-radius":"16px"}})}),r=[],s={name:"ResImg",props:{res:{}},watch:{res:{handler:function(e){e&&(console.log(this.$refs["resImg"].firstElementChild),this.$refs["resImg"].firstElementChild&&this.$refs["resImg"].removeChild(this.$refs["resImg"].firstElementChild),this.$refs["resImg"].appendChild(e))},deep:!0,immediate:!0}}},l=s,c=t("0abc"),h=Object(c["a"])(l,a,r,!1,null,"1bc296b5",null),g=h.exports,p=null,d={name:"GoJs",components:{resImg:g},title:"GoJs流程图",data:function(){return{show:!1,res:null}},mounted:function(){this.init()},beforeDestroy:function(){},methods:{save:function(){var e=p.makeImage({});this.res=e,console.log(this.res),this.show=!0,this.$toast.success({message:"保存成功"})},init:function(){var e={red:"#be4b15",green:"#52ce60",blue:"#6ea5f8",lightred:"#fd8852",lightblue:"#afd4fe",lightgreen:"#b9e986",pink:"#faadc1",purple:"#d689ff",orange:"#f08c00"},o=[];for(var t in e)o.push(t);function i(o){var t=e[o];return t||"gray"}var n={natgas:"F M244.414,133.231 L180.857,133.231 178.509,156.191 250.527,192.94z                M179.027,276.244 262.328,308.179 253.451,221.477z                M267.717,360.866 264.845,332.807 220.179,360.866z                M167.184,266.775 247.705,207.524 176.95,171.421z                M157.551,360.866 192.975,360.866 256.447,320.996 165.218,286.021z                M141.262,374.366 141.262,397.935 161.396,397.935 161.396,425.268 179.197,425.268 179.197,397.935                246.07,397.935 246.07,425.268 263.872,425.268 263.872,397.935 284.006,397.935 284.006,374.366z",oil:"F M190.761,109.999c-3.576-9.132-8.076-22.535,7.609-37.755c0.646,13.375,14.067,13.99,11.351,36.794                c6.231-2.137,6.231-2.137,9.188-3.781c17.285-9.612,20.39-25.205,7.64-42.896c-7.316-10.153-11.945-20.58-10.927-33.23                c-4.207,4.269-5.394,9.444-6.744,17.129c-5.116-3.688,3.067-41.28-22.595-46.26c5.362,13.836,7.564,25.758-2.607,40.076                c-0.667-5.422-3.255-12.263-8.834-17.183c-0.945,16.386,0.97,23.368-9.507,44.682c-2.945,8.902-5.02,17.635,0.533,26.418                C171.354,102.673,180.555,108.205,190.761,109.999z                M330.738,371.614h-15.835v-61.829l-74.409-78.541v-21.516c0-6.073-4.477-11.087-10.309-11.957v-82.156h-63.632v82.156                c-5.831,0.869-10.308,5.883-10.308,11.957v21.516l-74.409,78.541v61.829H66l-25.124,25.123h314.984L330.738,371.614z                M166.554,371.614h-61.717v-29.782h61.717V371.614z M166.554,319.956h-61.717v-1.007l51.471-54.329                c0.555,5.513,4.813,9.919,10.246,10.729V319.956L166.554,319.956z M291.903,371.614h-61.718v-29.782h61.718V371.614z                M291.903,319.956h-61.718V275.35c5.435-0.811,9.691-5.217,10.246-10.729l51.472,54.329V319.956z",pyrolysis:"F M226.46,198.625v-75.5h-87.936v-19.391h-14.304V92.319h-5.079l-3.724-82.777H91.766l-3.724,82.777h-6.18v11.415H68.535                V92.319h-5.079L59.731,9.542H36.08l-3.724,82.777h-6.18v11.415H11.872v94.891H0v35.167h243.333v-35.167H226.46z M61.355,191.792h-28                v-69.333h28V191.792z M117.041,191.792h-28v-69.333h28V191.792z M168.46,198.625h-29.936v-17.5h29.936V198.625z M206.46,198.625h-18                v-37.5h-49.936v-18h67.936V198.625z",fractionation:"F M224.609,218.045l-5.24-173.376h9.172V18.297h-9.969L218.019,0h-32.956l-0.553,18.297h-9.969v26.372h9.171l-2.475,81.878                h-39.196l-1.833-52.987h8.998V47.188h-9.91l-0.633-18.297h-32.913l-0.633,18.297h-9.911V73.56h8.999l-1.833,52.987H62.081                l-0.974-24.097h8.767V76.079h-9.833l-0.74-18.298H26.446l-0.739,18.298h-9.832v26.371h8.766L19.97,218.045H3.041v26.371h238.333                v-26.371z  M144.536,198.667h34.522l-0.586,19.378h-33.267L144.536,198.667z M143.624,172.296l-0.67-19.378h37.487                l-0.586,19.378H143.624z M100.792,172.296H63.93l-0.783-19.378h38.315L100.792,172.296z M99.88,198.667l-0.67,19.378h-33.43                l-0.783-19.378H99.88z",gasprocessing:"F M242.179,212.635V58.634h-80.936v40.877h-13.465l-1.351-33.828h5.284V45.247h-6.1l-0.415-10.382h6.515V14.431h-46.927              v20.435h6.515l-0.415,10.382h-6.1v20.436h5.284l-2.8,70.125H96.186V95.007H10.642v117.628H0v25.755h252.82v-25.755H242.179z              M73.501,135.808H51.714v76.827H33.327v-94.942h40.174V135.808z M137.797,213.516h-19.099v-88h19.099V213.516z M219.494,212.635              h-18.316v-51.411h18.316V212.635z M219.494,138.539h-18.316V99.511h-17.25V81.319h35.566V138.539z",polymerization:"F M399.748,237.029 L363.965,174.401 345.094,174.401 343.113,155.463 326.566,155.463 322.797,29.385 290.486,29.385                286.715,155.463 270.17,155.463 261.634,237.029 242.029,237.029 242.029,190.314 192.029,190.314 192.029,230.587 109.84,187.329                109.84,230.486 27.84,187.329 27.84,237.029 0,237.029 0,394.674 424.059,394.674 424.059,237.029z",finishedgas:"F M422.504,346.229v-68.306h-16.678v-24.856c0-21.863-16.199-39.935-37.254-42.882v-0.798                c0-26.702-21.723-48.426-48.426-48.426h-1.609c-26.699,0-48.426,21.724-48.426,48.426v87.633h-23.641v-93.169                c0-6.083-3.248-11.394-8.096-14.333c5.662-1.667,9.799-6.896,9.799-13.098c0-7.544-6.117-13.661-13.662-13.661h-10.981v-12.727h-17                v12.727h-10.984c-7.545,0-13.66,6.116-13.66,13.661c0,6.202,4.137,11.431,9.799,13.098c-4.848,2.94-8.098,8.25-8.098,14.333v93.169                h-23v-85.596c0-4.458-3.613-8.071-8.07-8.071h-16.412v-87.591c0-16.03-13.041-29.071-29.07-29.071v-1.267                c0-23.608-19.139-42.748-42.748-42.748S21.54,61.817,21.54,85.425v260.805H0v55.139h444.045v-55.139H422.504z M286.256,209.387                c0-17.801,14.48-32.284,32.281-32.284h1.609c17.803,0,32.285,14.483,32.285,32.284v1.559                c-19.059,4.545-33.232,21.673-33.232,42.124v24.855h-16.676v19.098h-16.27v-87.635H286.256z M302.525,313.162v33.067h-16.27                v-33.067H302.525z M270.113,313.162v33.067h-23.641v-33.067H270.113z M144.447,219.496v85.596c0,4.458,3.613,8.071,8.07,8.071                h31.07v33.068h-47.482V219.496H144.447z M107.035,102.834c7.129,0,12.93,5.8,12.93,12.929v87.591h-12.93V102.834z M107.035,219.496                h12.93v126.733h-12.93V219.496z"},a=[];for(var r in n)a.push(r);function s(e){var o=n[e];return"string"===typeof o&&(o=n[e]=go.Geometry.parse(o,!0)),o}var l=go.GraphObject.make;function c(e,o,t){var i=0,n=0;e.findLinksConnected().each((function(o){o.toNode===e&&o.toSpot===go.Spot.LeftSide&&i++,o.fromNode===e&&o.fromSpot===go.Spot.RightSide&&n++}));var a=Math.max(i,n);a=Math.max(1,Math.min(a,2)),t.height=12*a+2}p=l(go.Diagram,"myDiagramDiv",{initialAutoScale:go.Diagram.Uniform,ChangedSelection:h,"draggingTool.gridSnapCellSize":new go.Size(10,1),"draggingTool.isGridSnapEnabled":!0,"undoManager.isEnabled":!0,ModelChanged:function(e){e.isTransactionFinished&&(document.getElementById("mySavedModel").textContent=e.model.toJson())}}),p.nodeTemplate=l(go.Node,"Spot",{locationObjectName:"PORT",locationSpot:go.Spot.Top,linkConnected:c,linkDisconnected:c},new go.Binding("location","pos",go.Point.parse).makeTwoWay(go.Point.stringify),l(go.Panel,"Vertical",l(go.Shape,{width:40,height:0,stroke:null,strokeWidth:0,fill:"gray"},new go.Binding("height","icon",(function(){return 40})),new go.Binding("fill","color",i),new go.Binding("geometry","icon",s)),l(go.Shape,{name:"PORT",width:40,height:24,margin:new go.Margin(-1,0,0,0),stroke:null,strokeWidth:0,fill:"gray",portId:"",cursor:"pointer",fromLinkable:!0,toLinkable:!0},new go.Binding("fill","color",i)),l(go.TextBlock,{font:"Bold 14px Lato, sans-serif",textAlign:"center",margin:3,maxSize:new go.Size(100,NaN),alignment:go.Spot.Top,alignmentFocus:go.Spot.Bottom,editable:!0},new go.Binding("text").makeTwoWay()))),p.linkTemplate=l(go.Link,{layerName:"Background",routing:go.Link.Orthogonal,corner:15,reshapable:!0,resegmentable:!0,fromSpot:go.Spot.RightSide,toSpot:go.Spot.LeftSide},new go.Binding("fromSpot","fromSpot",go.Spot.parse),new go.Binding("toSpot","toSpot",go.Spot.parse),new go.Binding("points").makeTwoWay(),l(go.Shape,{isPanelMain:!0,stroke:"gray",strokeWidth:10},new go.Binding("stroke","fromNode",(function(o){return go.Brush.lighten(o&&e[o.data.color]||"gray")})).ofObject(),new go.Binding("stroke","color",i)),l(go.Shape,{isPanelMain:!0,stroke:"white",strokeWidth:3,name:"PIPE",strokeDashArray:[20,40]}));p.model=go.Model.fromJson(document.getElementById("mySavedModel").textContent);l(go.Palette,"myPaletteDiv",{layout:l(go.GridLayout,{cellSize:new go.Size(1,1)}),initialContentAlignment:go.Spot.TopLeft,initialScale:.8,nodeTemplate:p.nodeTemplate,model:new go.GraphLinksModel({nodeDataArray:[{icon:"natgas",text:"Gas\nCompanies"},{icon:"oil",text:"Oil\nCompanies"},{icon:"gasprocessing",text:"Gas Processing"},{icon:"fractionation",text:"Gas Fractionation"},{icon:"pyrolysis",text:"Pyrolysis (Cracking)"},{icon:"polymerization",text:"Basic Polymers"},{text:"Intermediates"},{icon:"finishedgas",text:"LPG, Naphtha,\nMTBE"}]})});function h(){var e=p.selection.first();if(console.log(e),e){var o=e.data;console.log(o)}}}}},m=d,v=(t("915d"),Object(c["a"])(m,i,n,!1,null,"76e0bd77",null));o["default"]=v.exports},"915d":function(e,o,t){"use strict";t("a848")},a848:function(e,o,t){}}]);
//# sourceMappingURL=GoJs.b1213d57.js.map