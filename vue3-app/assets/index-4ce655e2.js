var S=Object.defineProperty;var B=(e,t,s)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var V=(e,t,s)=>(B(e,typeof t!="symbol"?t+"":t,s),s);import{a as axios,d as defineStore,b as defineComponent,r as ref,o as onBeforeRouteUpdate,c as onBeforeRouteLeave,e as createBlock,w as withCtx,f as resolveComponent,g as openBlock,h as createVNode,i as createElementBlock,j as renderList,k as createBaseVNode,t as toDisplayString,u as unref,F as Fragment,l as createCommentVNode,m as createTextVNode,n as useRouter,p as onBeforeMount,q as nextTick,s as onMounted,v as reactive,x as onBeforeUpdate,y as onUpdated,z as onRenderTracked,A as onRenderTriggered,B as watch,C as onErrorCaptured,S as Suspense,E as ElMessage,D as normalizeClass,G as isRef,H as pushScopeId,I as popScopeId,J as createRouter,K as createWebHistory,L as createApp,M as createPinia,N as installer,O as A,P as o,Q as registerMicroApps,R as start}from"./vendor-ce002a7d.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}})();const log={};function typeColor(e="default"){let t="";switch(e){case"default":t="#515a6e";break;case"primary":t="#409eff";break;case"success":t="#67c23a";break;case"warning":t="#e6a23c";break;case"info":t="#909399";break;case"danger":t="#f56c6c";break}return t}log.capsule=function(e,t,s="primary"){console.log(`%c ${e} %c ${t} %c`,"background:#35495E; padding: 1px; border-radius: 3px 0 0 3px; color: #fff;",`background:${typeColor(s)}; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff;`,"background:transparent")};log.colorful=function(e){console.log(`%c${e.map(t=>JSON.stringify(t.text||"")).join("%c")}`,...e.map(t=>`color: ${typeColor(t.type)};`))};log.default=function(e){log.colorful([{text:e}])};log.primary=function(e){log.colorful([{text:e,type:"primary"}])};log.success=function(e){log.colorful([{text:e,type:"success"}])};log.warning=function(e){log.colorful([{text:e,type:"warning"}])};log.info=function(e){log.colorful([{text:e,type:"info"}])};log.danger=function(e){log.colorful([{text:e,type:"danger"}])};const request=axios.create({baseURL:"/api"});request.interceptors.request.use(e=>(e.headers={...e.headers,"x-auth-token":{}.VITE_TOKEN},e));request.interceptors.response.use(e=>e.status===200?Promise.resolve(e.data):(log.danger(e),Promise.reject(e)));const ajax=e=>new Promise((t,s)=>{const{method:r="get",url:n,data:c}=e,l=new XMLHttpRequest;l.open(r,n,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.onreadystatechange=function(){l.readyState===4&&(l.status===200?t(JSON.parse(l.responseText)):s(l))},l.send(JSON.stringify(c)||null)}),plugin={async install(e){e.config.globalProperties.$log=log,e.config.globalProperties.$http=request,e.config.globalProperties.$ajax=ajax}},user={login:e=>request({method:"post",url:"/users/login",data:e})},api={user},useUserStore=defineStore({id:"user",state:()=>({name:"",isAdmin:!1,signature:""}),actions:{logout(){this.$patch({name:"",isAdmin:!1})},async login(e,t){const s=await api.user.login({user:e,password:t}),r={name:e,...s.data};console.log("login-success",r),this.$patch(r)}}}),useMenuStore=defineStore({id:"menu",state:()=>({list:[]}),actions:{updateMenu(e){this.$patch({list:[...this.list,...e]})}}}),_hoisted_1$7=createBaseVNode("span",null,"vue2微应用",-1),_hoisted_2$4=createBaseVNode("div",{id:"vue2App"},null,-1),_sfc_main$h=defineComponent({__name:"App",setup(e){const t=ref(!1),s=useMenuStore(),r=useRouter();onBeforeRouteUpdate(c=>{console.log({...r},c)}),onBeforeRouteLeave(c=>{console.log({...r},c)});const n=c=>{console.log(c),r.push({name:c})};return(c,l)=>{const h=resolveComponent("el-menu-item"),w=resolveComponent("el-menu"),p=resolveComponent("el-aside"),f=resolveComponent("el-breadcrumb-item"),v=resolveComponent("el-breadcrumb"),d=resolveComponent("el-header"),g=resolveComponent("router-view"),y=resolveComponent("el-card"),C=resolveComponent("el-main"),N=resolveComponent("el-footer"),u=resolveComponent("el-container");return openBlock(),createBlock(u,{style:{height:"100vh",overflow:"hidden"}},{default:withCtx(()=>[t.value?(openBlock(),createBlock(p,{key:0,style:{"max-width":"200px",height:"100vh"}},{default:withCtx(()=>{var _;return[createVNode(w,{"default-active":((_=c.$route)==null?void 0:_.path)||"/",router:"",style:{height:"100%"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s).list,({path:i,title:m,name:a})=>(openBlock(),createBlock(h,{index:i,key:i,onSelect:x=>n(a)},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(m),1)]),_:2},1032,["index","onSelect"]))),128)),createVNode(h,{to:{path:"/vue2-app"},index:"/vue2-app"},{default:withCtx(()=>[_hoisted_1$7]),_:1})]),_:1},8,["default-active"])]}),_:1})):createCommentVNode("",!0),createVNode(u,null,{default:withCtx(()=>[createVNode(d,{style:{"background-color":"#f6f9fe",display:"flex","align-items":"center"}},{default:withCtx(()=>[createVNode(v,{"separator-class":"el-icon-arrow-right"},{default:withCtx(()=>[createVNode(f,null,{default:withCtx(()=>{var _,i;return[createTextVNode(toDisplayString((i=(_=c.$route)==null?void 0:_.meta)==null?void 0:i.title),1)]}),_:1})]),_:1})]),_:1}),createVNode(C,{style:{background:"#f2f3f5"}},{default:withCtx(()=>[createVNode(y,{style:{width:"100%",height:"100%","box-sizing":"border-box",display:"flex","flex-direction":"column"},shadow:"never","body-style":"flex: 1;width: 100%; height: 100%;"},{default:withCtx(()=>[createVNode(g),_hoisted_2$4]),_:1})]),_:1}),createVNode(N,{style:{display:"none","background-color":"#f6f9fe","align-items":"center","justify-content":"center"}},{default:withCtx(()=>[createTextVNode(" © 2022 ")]),_:1})]),_:1})]),_:1})}}}),main="",scriptRel="modulepreload",assetsURL=function(e){return"/daily-code/vue3-app/"+e},seen={},__vitePreload=function(t,s,r){if(!s||s.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(s.map(c=>{if(c=assetsURL(c),c in seen)return;seen[c]=!0;const l=c.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(!!r)for(let f=n.length-1;f>=0;f--){const v=n[f];if(v.href===c&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":scriptRel,l||(p.as="script",p.crossOrigin=""),p.href=c,document.head.appendChild(p),l)return new Promise((f,v)=>{p.addEventListener("load",f),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>t())},_hoisted_1$6={class:"page"},__default__$8={name:"AlgorithmView",title:"算法",inheritAttrs:!1,customOptions:{}},_sfc_main$g=defineComponent({...__default__$8,setup(e){return onBeforeMount(()=>{}),(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$6,"算法"))}}),__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$g},Symbol.toStringTag,{value:"Module"})),_sfc_main$f=defineComponent({__name:"FactoryPatterns",props:{title:String},setup(__props){console.log("工厂模式");const code=`
// 构造函数和创建者分离
function Jquery (selector) {
  this.selector = document.querySelectorAll(selector)
}
// new操作单独封装
window.$ = function (selector) {
  return new Jquery(selector)
}
var p = $('div')
console.log(p)
    `;return nextTick(()=>{eval(code)}),(e,t)=>{const s=resolveComponent("highlightjs"),r=resolveComponent("el-card");return openBlock(),createBlock(r,null,{header:withCtx(()=>[createTextVNode(toDisplayString(__props.title),1)]),default:withCtx(()=>[createVNode(s,{language:"JavaScript",lineNumbers:"",autodetect:!1,code})]),_:1})}}}),_sfc_main$e=defineComponent({__name:"SinglePatterns",props:{title:String},setup(__props){const code=`
class SingleObject {
    showMessage() {
      console.log('showMessage', this)
    }
}
SingleObject.getInstance = (function () {
   let instance = null
    return function () {
      if (!instance) {
        instance =  new SingleObject()
      }
      return instance
    }
})()

console.log(SingleObject.getInstance() === SingleObject.getInstance())
    `;return nextTick(()=>{eval(code)}),(e,t)=>{const s=resolveComponent("highlightjs"),r=resolveComponent("el-card");return openBlock(),createBlock(r,null,{header:withCtx(()=>[createTextVNode(toDisplayString(__props.title),1)]),default:withCtx(()=>[createVNode(s,{language:"JavaScript",autodetect:!1,code})]),_:1})}}}),_sfc_main$d=defineComponent({__name:"AdaptPatterns",props:{title:String},setup(__props){const code=`
class SpecialRequest {
    request() {
      return 'old'
    }
}

class Request {
  constructor() {
    // 封装旧接口
    this.adptor = new SpecialRequest()
  }
  request () {
    let type = this.adptor.request()
    console.log(type)
  }
}
new Request().request()
    `;return nextTick(()=>{eval(code)}),(e,t)=>{const s=resolveComponent("highlightjs"),r=resolveComponent("el-card");return openBlock(),createBlock(r,null,{header:withCtx(()=>[createTextVNode(toDisplayString(__props.title),1)]),default:withCtx(()=>[createVNode(s,{language:"JavaScript",lineNumbers:"",autodetect:!1,code})]),_:1})}}}),_sfc_main$c=defineComponent({__name:"DecoratorPatterns",props:{title:String},setup(__props){const code=`
class Circle {
    constructor() {
        this.border = 'none'
    }
    draw() {
        console.log('draw Circle', this)
    }
}

class Client {
    constructor(circle) {
        this.circle = circle
    }
    // 添加新功能
    draw() {
        this.circle.draw()
        this.setBorder(this.circle)
        this.circle.draw()
    }
    setBorder(circle) {
        circle.border = '1px'
        console.log('setBorder', circle)
    }
}
new Client(new Circle()).draw()
    `;return nextTick(()=>{eval(code)}),(e,t)=>{const s=resolveComponent("el-alert"),r=resolveComponent("highlightjs"),n=resolveComponent("el-card");return openBlock(),createBlock(n,null,{header:withCtx(()=>[createTextVNode(toDisplayString(__props.title),1)]),default:withCtx(()=>[createVNode(s,null,{default:withCtx(()=>[createTextVNode("AOP 面向切片编程")]),_:1}),createVNode(r,{language:"JavaScript",lineNumbers:"",autodetect:!1,code})]),_:1})}}}),_sfc_main$b=defineComponent({__name:"ProxyPatterns",props:{title:String},setup(__props){const code=`
class ReadImg {
  constructor(fileName) {
    this.fileName = fileName
    this.loadImg()
  }
  show() {
    console.log('show image', this.fileName)
  }
  loadImg() {
    console.log('load image', this.fileName)

  }
}
class ProxyImg {
  constructor(fileName) {
    this.img = new ReadImg(fileName)
  }
  show() {
    this.img.show()
  }
}

new ProxyImg('www.png').show()
    `;return nextTick(()=>{eval(code)}),(e,t)=>{const s=resolveComponent("highlightjs"),r=resolveComponent("el-card");return openBlock(),createBlock(r,null,{header:withCtx(()=>[createTextVNode(toDisplayString(__props.title),1)]),default:withCtx(()=>[createVNode(s,{language:"JavaScript",lineNumbers:"",autodetect:!1,code})]),_:1})}}}),_hoisted_1$5={class:"page page-scroll-y design-patterns"},_hoisted_2$3=createBaseVNode("i",null,"原型模式",-1),_hoisted_3$1=createBaseVNode("i",null,"外观模式",-1),__default__$7={name:"DesignPatterns",title:"设计模式",inheritAttrs:!1,customOptions:{}},_sfc_main$a=defineComponent({...__default__$7,setup(e){return(t,s)=>{const r=resolveComponent("el-link"),n=resolveComponent("el-descriptions-item"),c=resolveComponent("el-descriptions"),l=resolveComponent("el-collapse-item"),h=resolveComponent("el-divider"),w=resolveComponent("el-collapse");return openBlock(),createElementBlock("div",_hoisted_1$5,[createVNode(r,{href:"//forguo.cn",target:"_blank",type:"primary"},{default:withCtx(()=>[createTextVNode("设计模式")]),_:1}),createVNode(w,null,{default:withCtx(()=>[createVNode(l,{title:"面向对象"},{default:withCtx(()=>[createVNode(c,{title:"",column:1},{default:withCtx(()=>[createVNode(n,{label:"面向对象的概念"}),createVNode(n,{label:"面向对象的三要素"}),createVNode(n,{label:"面向对象的意义"},{default:withCtx(()=>[createTextVNode(" 数据结构化 比如浏览器的渲染，最终是解析成了DOM树，cssom，最后才去渲染 ")]),_:1}),createVNode(n,{label:"jQuery中的应用"})]),_:1})]),_:1}),createVNode(l,{title:"5大设计原则"},{default:withCtx(()=>[createVNode(c,{title:"",column:1},{default:withCtx(()=>[createVNode(n,{label:"S"},{default:withCtx(()=>[createTextVNode("单一职责原则")]),_:1}),createVNode(n,{label:"O"},{default:withCtx(()=>[createTextVNode("开放封闭原则（开放扩展，封闭修改）")]),_:1}),createVNode(n,{label:"L"},{default:withCtx(()=>[createTextVNode("李氏置换原则")]),_:1}),createVNode(n,{label:"I"},{default:withCtx(()=>[createTextVNode("接口独立原则")]),_:1}),createVNode(n,{label:"D"},{default:withCtx(()=>[createTextVNode("依赖导致原则")]),_:1})]),_:1})]),_:1}),createVNode(l,{title:"23种设计模式"},{default:withCtx(()=>[createVNode(h,null,{default:withCtx(()=>[createTextVNode("创建形")]),_:1}),createVNode(unref(_sfc_main$f),{title:"工厂模式"}),createVNode(unref(_sfc_main$e),{title:"单列模式"}),_hoisted_2$3,createVNode(h,null,{default:withCtx(()=>[createTextVNode("结构形")]),_:1}),createVNode(unref(_sfc_main$d),{title:"适配器模式"}),createVNode(unref(_sfc_main$c),{title:"装饰器模式"}),createVNode(unref(_sfc_main$b),{title:"代理模式"}),_hoisted_3$1,createVNode(h,null,{default:withCtx(()=>[createTextVNode("组合形")]),_:1})]),_:1})]),_:1})])}}}),index_vue_vue_type_style_index_0_lang="",__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$a},Symbol.toStringTag,{value:"Module"})),_hoisted_1$4={class:"page"},__default__$6={name:"ES6View",title:"ES6",inheritAttrs:!1,customOptions:{}},_sfc_main$9=defineComponent({...__default__$6,setup(e){const t=async()=>{console.log("request"),await new Promise((s,r)=>{console.log("setTimeout"),setTimeout(()=>{console.log("resolve"),s("async")},0)})};return onBeforeMount(async()=>{console.log("onBeforeMount"),t().then(s=>{console.log(s)})}),(s,r)=>(openBlock(),createElementBlock("div",_hoisted_1$4,"es6"))}}),__vite_glob_0_2=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$9},Symbol.toStringTag,{value:"Module"})),_sfc_main$8=defineComponent({__name:"Timer",props:{msg:null},emits:["count-down"],setup(e){ref(3);const t=ref("00:00:00"),s=()=>{const r=new Date,n=r.getHours()<10?`0${r.getHours()}`:r.getHours(),c=r.getMinutes()<10?`0${r.getMinutes()}`:r.getMinutes(),l=r.getSeconds()<10?`0${r.getSeconds()}`:r.getSeconds();t.value=`${n}:${c}:${l}`,window.requestAnimationFrame(s)};return onMounted(()=>{s()}),(r,n)=>{const c=resolveComponent("el-alert"),l=resolveComponent("el-card");return openBlock(),createBlock(l,null,{default:withCtx(()=>[createVNode(c,{class:"we-timer"},{default:withCtx(()=>[createTextVNode("现在是："+toDisplayString(t.value),1)]),_:1})]),_:1})}}}),Timer_vue_vue_type_style_index_0_scoped_099170d2_lang="",_export_sfc=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},Timer=_export_sfc(_sfc_main$8,[["__scopeId","data-v-099170d2"]]),_sfc_main$7=defineComponent({name:"AsyncShow",async setup(){return{res:(await request({url:"https://www.forguo.cn/api/common/wechat/sdk",params:{url:window.location.href}})).data}}});function _sfc_render$1(e,t,s,r,n,c){const l=resolveComponent("el-card");return openBlock(),createBlock(l,{shadow:"hover"},{header:withCtx(()=>[createTextVNode("我是异步组件")]),default:withCtx(()=>[createBaseVNode("div",null,toDisplayString(e.res.data),1)]),_:1})}const AsyncShow=_export_sfc(_sfc_main$7,[["render",_sfc_render$1]]),_hoisted_1$3={class:"home"},__default__$5={name:"HomeView",title:"首页"},_sfc_main$6=defineComponent({...__default__$5,setup(e){console.log("1-开始创建组件-----setup()");const t=reactive([{id:"10001",name:"阿里"},{id:"10002",name:"腾讯"},{id:"10003",name:"字节"}]);let s=reactive({});const r=n=>{const c=t[n];s.name=c.name};return onBeforeMount(()=>{console.log("2-组件挂载到页面之前执行-----onBeforeMount()")}),onMounted(()=>{console.log("3-组件挂载到页面之后执行-----onMounted()")}),onBeforeUpdate(()=>{console.log("4-组件更新之前-----onBeforeUpdate()")}),onUpdated(()=>{console.log("5-组件更新之后-----onUpdated()")}),onRenderTracked(n=>{console.log("状态跟踪组件----------->"),console.log(n)}),onRenderTriggered(n=>{console.log("状态触发组件--------------->"),console.log(n)}),watch(s,(n,c)=>{console.log(`new--->${JSON.stringify(n)}`),console.log(`old--->${JSON.stringify(c)}`),n&&n.name&&(document.title=`已投递：${n.name}`)},{deep:!0}),onErrorCaptured(n=>{console.log("/*******************/"),console.log(n),console.log("/*******************/")}),(n,c)=>{var p;const l=resolveComponent("el-tag"),h=resolveComponent("el-button"),w=resolveComponent("el-divider");return openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode(unref(Timer),{title:1,type:"success"}),createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t,(f,v)=>(openBlock(),createElementBlock("p",{key:f.id},[createVNode(l,null,{default:withCtx(()=>[createTextVNode(toDisplayString(f.name),1)]),_:2},1024),createVNode(h,{onClick:d=>r(v)},{default:withCtx(()=>[createTextVNode("投递")]),_:2},1032,["onClick"])]))),128))]),createBaseVNode("p",null,"已经投递："+toDisplayString((p=unref(s))==null?void 0:p.name),1),createVNode(w),(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[createVNode(AsyncShow)]),fallback:withCtx(()=>[createTextVNode("加载中...")]),_:1}))])}}}),__vite_glob_0_3=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$6},Symbol.toStringTag,{value:"Module"})),__default__$4={name:"JsBaseView",title:"JS基础",inheritAttrs:!1,customOptions:{}},_sfc_main$5=defineComponent({...__default__$4,setup(e){return onBeforeMount(()=>{}),(t,s)=>(openBlock(),createElementBlock("div",null,"JS基础"))}}),__vite_glob_0_4=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$5},Symbol.toStringTag,{value:"Module"})),__default__$3={name:"WebApiView",title:"WebApi",inheritAttrs:!1,customOptions:{}},_sfc_main$4=defineComponent({...__default__$3,setup(e){return onBeforeMount(()=>{}),(t,s)=>(openBlock(),createElementBlock("div",null,"Web Api"))}}),__vite_glob_0_5=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$4},Symbol.toStringTag,{value:"Module"})),_sfc_main$3=defineComponent({components:{},title:"状态",setup(){const e=useUserStore();return{user:e,handleAddCart:async()=>{console.log(e),await e.login("admin","root"),console.log("handleAddCart --->"),ElMessage.success("Login Success~")}}}}),_hoisted_1$2={class:"Pinia"},_hoisted_2$2=createBaseVNode("hr",null,null,-1);function _sfc_render(e,t,s,r,n,c){const l=resolveComponent("el-button");return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("p",null,"name: "+toDisplayString(e.user.name),1),createBaseVNode("p",null,"signature: "+toDisplayString(e.user.signature||""),1),createBaseVNode("p",null,toDisplayString(JSON.stringify(e.user)),1),createVNode(l,{onClick:e.handleAddCart},{default:withCtx(()=>[createTextVNode("登录")]),_:1},8,["onClick"]),_hoisted_2$2])}const index$1=_export_sfc(_sfc_main$3,[["render",_sfc_render]]),__vite_glob_0_6=Object.freeze(Object.defineProperty({__proto__:null,default:index$1},Symbol.toStringTag,{value:"Module"})),_withScopeId=e=>(pushScopeId("data-v-516d71a7"),e=e(),popScopeId(),e),_hoisted_1$1=_withScopeId(()=>createBaseVNode("video",{id:"local",class:"talking-video",autoplay:"",playsinline:"",muted:""},null,-1)),_hoisted_2$1=[_hoisted_1$1],_hoisted_3=_withScopeId(()=>createBaseVNode("div",{class:"talking-device"},[createBaseVNode("video",{id:"remote",class:"talking-video",autoplay:"",playsinline:""})],-1)),_hoisted_4=["innerHTML"],_hoisted_5={class:"talking-tool"},__default__$2={name:"TalkingView",title:"Rtc通信"},_sfc_main$2=defineComponent({...__default__$2,setup(e){const t=new RTCPeerConnection;let s=ref(""),r=ref(""),n=ref("");const c=ref('Using text interpolation: <span style="color: red">This should be red.</span><script>console.log("alert(1)")<\/script>Using v-html directive: This should be red.'),l=async()=>{const u=document.getElementById("local"),_=document.getElementById("remote"),i=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});u.srcObject=i,i.getTracks().forEach(a=>{console.log(a),t.addTrack(a,i)}),t.ontrack=a=>{_.srcObject=a.streams[0]};let m=t.createDataChannel("myDataChannel");m.onopen=a=>{ElMessage.success("文件通道已打开"),console.log("🚀🚀🚀 / event",a)},m.onclose=a=>{ElMessage.warning("文件通道已关闭")},m.onerror=a=>{ElMessage.error("文件通道发生错误")},m.onmessage=a=>{console.log("🚀🚀🚀 / event",a)},t.createOffer({offerToReceiveVideo:!0,offerToReceiveAudio:!0}).then(a=>(console.log(a),t.setLocalDescription(a).then(()=>a))).then(a=>new Promise((x,$)=>{h("http://127.0.0.1",window.btoa(a.sdp)).then(b=>{x(b)},function(b){$(b)})})).then(a=>t.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:window.atob(a)}))).then(()=>{}).catch(a=>{throw a}),m.send("Hello world!")},h=(u,_)=>new Promise((i,m)=>{let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(a.readyState===4&&a.status>=200&&a.status<300){let x=a.responseText;a.onreadystatechange=new Function,a=null,i(x)}},a.open("POST",u.replace("webrtc","http"),!0),a.send(_)}),w=async()=>{const u=await t.createOffer();await t.setLocalDescription(u),t.onicecandidate=async _=>{_.candidate&&(s.value=JSON.stringify(t.localDescription))}},p=async()=>{const u=JSON.parse(s.value);t.onicecandidate=async i=>{i.candidate&&(r.value=JSON.stringify(t.localDescription))},await t.setRemoteDescription(u);const _=await t.createAnswer();await t.setLocalDescription(_)},f=async()=>{const u=JSON.parse(r.value);t.currentRemoteDescription||t.setRemoteDescription(u)};let v=[],d=null;const g=async()=>{try{const u=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});y(u)}catch(u){console.log(u)}},y=u=>{const _=MediaRecorder.isTypeSupported("video/webm; codecs=vp9")?"video/webm; codecs=vp9":"video/webm";d=new MediaRecorder(u,{mimeType:_}),d.ondataavailable=function(i){v.push(i.data)},d.onstop=function(){let i=new Blob(v,{type:"video/mp4"}),m=window.URL.createObjectURL(i),a=document.createElement("video");a.src=m,a.controls=!0,document.body.appendChild(a)},d.start()},C=()=>{d.stop(),setTimeout(()=>{N()},500)},N=()=>{const u=new Blob(v,{type:"video/mp4"}),_=URL.createObjectURL(u),i=document.createElement("a");i.href=_,i.style.display="none",i.download=`record.${Date.now()}.mp4`,i.click(),ElMessage.success("下载成功")};return(u,_)=>{const i=resolveComponent("el-input"),m=resolveComponent("el-button");return openBlock(),createElementBlock("div",{class:normalizeClass(["page",["talking",{loading:unref(n)}]])},[createBaseVNode("div",{class:normalizeClass(["talking-inner",{loading:unref(n)}])},[createBaseVNode("div",{class:normalizeClass(["talking-device",unref(n)])},_hoisted_2$1,2),_hoisted_3,createBaseVNode("div",null,[createVNode(i,{modelValue:unref(s),"onUpdate:modelValue":_[0]||(_[0]=a=>isRef(s)?s.value=a:s=a),placeholder:"offer"},null,8,["modelValue"]),createVNode(i,{modelValue:unref(r),"onUpdate:modelValue":_[1]||(_[1]=a=>isRef(r)?r.value=a:r=a),placeholder:"answer"},null,8,["modelValue"]),createBaseVNode("div",{innerHTML:c.value},null,8,_hoisted_4)])],2),createBaseVNode("div",_hoisted_5,[createVNode(m,{onClick:l,type:"primary"},{default:withCtx(()=>[createTextVNode("1、发起通话")]),_:1}),createVNode(m,{onClick:w,type:"primary"},{default:withCtx(()=>[createTextVNode("2、创建 offer")]),_:1}),createVNode(m,{onClick:p,type:"primary"},{default:withCtx(()=>[createTextVNode("3、创建 answer")]),_:1}),createVNode(m,{onClick:f,type:"primary"},{default:withCtx(()=>[createTextVNode("4、添加 answer")]),_:1}),createVNode(m,{onClick:g},{default:withCtx(()=>[createTextVNode("开始录屏")]),_:1}),createVNode(m,{onClick:C},{default:withCtx(()=>[createTextVNode("结束录屏并下载")]),_:1})])],2)}}}),index_vue_vue_type_style_index_0_scoped_516d71a7_lang="",index=_export_sfc(_sfc_main$2,[["__scopeId","data-v-516d71a7"]]),__vite_glob_0_7=Object.freeze(Object.defineProperty({__proto__:null,default:index},Symbol.toStringTag,{value:"Module"})),rawCode=()=>{function e(){console.log("hello")}e();class t{constructor(g){V(this,"name");this.name=g}}const s=new t("www");console.log(s.name);class r{constructor(g){this.name=g}}const n=new r("http");console.log(n.name);class c{constructor(g){this.name=g}}class l extends c{constructor(g,y){super(g),this.age=y}}console.log(new l("罗翔",18));class h{constructor(g,y){V(this,"_name");this._age=y,this._name=g}get age(){return this._age}set age(g){this._age=g}say(){return"I am "+this._age+"years old"}static sayLove(){return"I Love you"}}const w=new h("www",18);w.age=20,console.log(w.age);let p;(d=>{d[d.success=200]="success",d[d.error=201]="error",d[d.auth=401]="auth"})(p||(p={})),console.log(201),console.log(p[200]);let f;f=1,f="2";function v(d){return d}f.length},__default__$1={name:"TsView",title:"Ts",inheritAttrs:!1,customOptions:{}},_sfc_main$1=defineComponent({...__default__$1,setup(e){return onBeforeMount(()=>{rawCode()}),(t,s)=>(openBlock(),createElementBlock("div",null,"typescript"))}}),__vite_glob_0_8=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1},Symbol.toStringTag,{value:"Module"})),_hoisted_1={class:"home"},_hoisted_2=createBaseVNode("h2",null,"组件库",-1),__default__={name:"WeiDesignView",title:"组件库",inheritAttrs:!1,customOptions:{}},_sfc_main=defineComponent({...__default__,setup(e){const t=()=>{console.log("success")};return(s,r)=>{const n=resolveComponent("el-divider"),c=resolveComponent("we-button");return openBlock(),createElementBlock("div",_hoisted_1,[_hoisted_2,createVNode(n),createVNode(c,{onClick:t},{default:withCtx(()=>[createTextVNode("Default")]),_:1})])}}}),__vite_glob_0_9=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main},Symbol.toStringTag,{value:"Module"})),routes=[{path:"/",name:"Home",title:"首页",component:()=>__vitePreload(()=>Promise.resolve().then(()=>__vite_glob_0_3),void 0),meta:{name:"Home",title:"首页"}}],views=Object.assign({"/src/views/Algorithm/index.vue":__vite_glob_0_0,"/src/views/DesignPatterns/index.vue":__vite_glob_0_1,"/src/views/ES6/index.vue":__vite_glob_0_2,"/src/views/Home/index.vue":__vite_glob_0_3,"/src/views/JsBase/index.vue":__vite_glob_0_4,"/src/views/JsWebApi/index.vue":__vite_glob_0_5,"/src/views/Pinia/index.vue":__vite_glob_0_6,"/src/views/Talking/index.vue":__vite_glob_0_7,"/src/views/TypeScript/index.vue":__vite_glob_0_8,"/src/views/WeiDesign/index.vue":__vite_glob_0_9});for(const e in views){const t=views[e],r=(e.match(/..\/views\/(\w+)/)||[])[1],n=t.default;if(r&&r!=="Home"&&!n.hidden){const l=n.title||r;routes.push({path:r==="Home"?"/":`/${r}`,name:r,title:l,component:n,meta:{name:r,title:l}})}}const router=createRouter({history:createWebHistory("/daily-code/vue3-app"),routes:[...routes]}),menus=routes.map(e=>(delete e.component,{...e}));console.log({BASE_URL:"/daily-code/vue3-app",MODE:"production",DEV:!1,PROD:!0,SSR:!1});console.log({APP_VERSION:"1.0.0",APP_BUILD_TIME:"2023-06-26 20:32:43"});log.capsule("Environment","production","primary");log.capsule("Version","1.0.0","primary");log.capsule("BuildTime","2023-06-26 20:32:43","primary");const app=createApp(_sfc_main$h);app.use(plugin).use(createPinia()).use(router).use(installer).use(A).use(o).mount("#app");const menu=useMenuStore();menu.updateMenu(menus);registerMicroApps([{name:"vue2-app",entry:"//wforguo.github.io/daily-code/vue2-app/",container:"#vue2App",activeRule:"/vue2-app",props:{menus}}]);start();
//# sourceMappingURL=index-4ce655e2.js.map
